<!--
Author: W3layouts
Author URL: http://w3layouts.com
License: Creative Commons Attribution 3.0 Unported
License URL: http://creativecommons.org/licenses/by/3.0/
-->
<!DOCTYPE html>
<html>
<head>
<title>注册</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Internship Sign In  Sign Up Form Responsive Widget,Login form widgets, Sign up Web forms , Login signup Responsive web form,Flat Pricing table,Flat Drop downs,Registration Forms,News letter Forms,Elements" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<link href="../bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet" type="text/css"  />
<!-- Custom Theme files -->
<link href="../LoginAndReg/css/font-awesome.min.css" rel="stylesheet" type="text/css" media="all" />
<link href="../LoginAndReg/css/snow.css" rel="stylesheet" type="text/css" media="all" />
<link href="../LoginAndReg/css/style.css" rel="stylesheet" type="text/css" media="all" />
<!-- //Custom Theme files -->
<!-- web font -->
<!--<link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
-->
<!-- //web font -->

	<!-- 提示框 -->
	<link href="../promptbox/css/msgbox.css" rel="stylesheet" type="text/css"  />
    <script type="text/javascript" src="../promptbox/js/msgbox.js"  ></script>
    <script type="text/javascript" src="../promptbox/init_hide.js" ></script>
    <!-- 提示框 -->

</head>
<body>
<div class="snow-container">
			  <div class="snow foreground"></div>
			  <div class="snow foreground layered"></div>
			  <div class="snow middleground"></div>
			  <div class="snow middleground layered"></div>
			  <div class="snow background"></div>
			  <div class="snow background layered"></div>
			</div>

<div class="top-buttons-agileinfo">
<a href="/forum/LoginAndRegMapping/login"  >登录</a><a href="/forum/LoginAndRegMapping/reg" class="active" >注册</a>
</div>
<h1>注册</h1>
<div class="main-agileits">
<!--form-stars-here-->
		<div class="form-w3-agile">
			<h2 class="sub-agileits-w3layouts">Sign Up</h2>
			<form  id="f1" >
					<input type="text" name="username" id="name"  placeholder="用户名" onblur="checkUserName()"  required=""   />
					<input type="password" name="password" id="pwd" placeholder="密码"  required=""  />
					<input type="password" name="password" id="pwdAgain" placeholder="确认密码" required=""  />
				<div class="submit-w3l">
					<input type="submit"   value="注册" onclick="reg()" />
				</div>
			</form>
		</div>
		</div>
<!--//form-ends-here-->
<!-- copyright -->
	<div class="copyright w3-agile">
		<p> © 2018 Internship Sign In<![CDATA[ & ]]> Sign Up Form . All rights reserved | Design by <a href="http://w3layouts.com/" target="_blank">W3layouts</a></p>
	</div>
	

	<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">
					&times;
				</button>
			</div>
			<div class="modal-body" id="word">
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">关闭
				</button>
			
			</div>
		</div><!-- /.modal-content -->
	</div><!-- /.modal -->
</div>
	<!-- 模态框 -->
	<!-- //copyright --> 
	<script type="text/javascript" src="../jqeury/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="../bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <script>
    /*<![CDATA[*/
    	
    	$(function(){
    		$("#f1").submit(function(){
    			return false;
    		});
    	})
    	
    //注册用户
    function reg(){
     	var name = $("#name").val();
    	var pwd = $("#pwd").val();
    	var pwdAgain = $("#pwdAgain").val();
    	if(name != "" && pwd != "" && pwdAgain != ""){
    		
    		if(pwd != pwdAgain){
    			clickAutoHide(1,"两次输入密码不一致请重新输入",null);
    		 	return;
    		}
    		
    		$.post("/forum/LoginAndRegController/reg",{"username":name,"password":pwd},function(data){
    			
    			if(data == "1"){
    				clickAutoHide(4,"注册成功即将跳往登录页...",null);
        		 	
        		 	setTimeout(function(){
        		 		location.href = "/forum/LoginAndRegMapping/login";
        		 	},4000);
    			}else{
    				clickAutoHide(5,data,null);
    			}
    			
    		});
    	}
    }
    
    //查询用户名是否重复
    function checkUserName(){
    	var name = $("#name").val();
    	if(name != ""){
		$.post("/forum/LoginAndRegController/CheckUserName",{"username":name},function(data){
			
    			if(data != ""){
    				clickAutoHide(5,data,null);
    			}
    			
    		});
    	}
    }
	/*]]>*/
    </script>
</body>
</html>